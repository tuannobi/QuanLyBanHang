@model QuanLyBanHang.Models.HoaDon;
@{
    ViewData["Title"] = "Index1";
    Layout = "~/Views/Shared/Layout_Admin.cshtml";
}

@section Links{
    <link rel="stylesheet" href="~/admin/custom/admin_users.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
}
<div class="container">
    <div class="header-content">
        <h2>Danh sách hóa đơn đã xử lí</h2>
    </div>
    <form method="post" action="/HoaDon/ThongKeHoaDonTheoThoiGian" style="float: left; ">
        <input type="date" name="ngayBatDau" class="ngay" id="ngayBatDau"/>
        <input type="date" name="ngayKetThuc" class="ngay" id="ngayKetThuc" />
        <input type="submit" value="Thống kê" id="thongke" />

    </form>
    <a href="/HoaDon/InDanhSachHoaDon" target="_blank" class="add-user btn" id="inhoadon">
        <i class="fa fa-print" aria-hidden="true" target="_blank"></i>&nbsp;
        In hóa đơn
    </a>
    <br />
    <div class="content-content">
        <table id="dtBasicExample" class="table table-hover tm-table-small" style="border-collapse: collapse;">
            <thead>
                <tr>
                    <th class="th-sm" scope="col">Số hóa đơn</th>
                    <th class="th-sm" scope="col">Ngày tạo</th>
                    <th class="th-sm" scope="col">Khách hàng</th>
                    <th class="th-sm" scope="col">Địa chỉ</th>
                    <th class="th-sm" scope="col">Phí ship</th>
                    <th class="th-sm" scope="col">Tổng tiền</th>
                    <th class="th-sm" scope="col">Chức năng</th>
                </tr>
            </thead><tbody>
    @foreach (var item in ViewBag.TTHD)
    {
        <tr>
            <td style="text-align: center;">@item.HoaDonId</td>
            <td style="text-align: center;">@String.Format("{0:dd/MM/yyyy}", @item.ThoiGianChoXuLy)</td>
            <td style="text-align: center;">@item.KhachHang.HoTen</td>
            <td style="text-align: center;">@item.SoNha, @item.Quan</td>
            <td style="text-align: center;">@item.PhiShip.ChiPhi</td>
            <td style="text-align: center;">@item.TongTienThanhToan</td>
            <td style="text-align: center;">
                @*<a asp-action="Details" asp-route-id="@item.HoaDonId" title="Chi tiết hóa đơn"><i class="fa fa-eye" aria-hidden="true"></i></a>*@
                <a href="/HoaDon/Details/@item.HoaDonId" target="_blank"><i class="fa fa-eye" aria-hidden="true"></i></a>
            </td>
        </tr>
    }
</tbody>
        </table>
    </div>
</div>
@section Scripts{
    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js" integrity="sha384-1CmrxMRARb6aLqgBO7yyAxTOQE2AKb9GfXnEo760AUcUmFx3ibVJJAzGytlQcNXd" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function () {
           
            $('#dtBasicExample').DataTable();
            $('.dataTables_length').addClass('bs-select');
        });
    </script>
}
